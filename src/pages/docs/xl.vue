<template>
  <div>
    <!-- é¡µé¢æ ‡é¢˜ -->
    <div class="mb-8">
      <div class="flex items-center space-x-4 mb-4">
        <img 
          src="https://image.mefrp-tpca.yealqp.cn/image/views/icon/xl_icon.webp" 
          alt="XL-ME-Frp-Launcher"
          class="w-12 h-12 rounded-lg"
        />
        <div>
          <h1 class="text-3xl font-bold text-white">XL-ME-Frp-Launcher</h1>
          <p class="text-gray-400">åŸºäº Tauri 2 æ¡†æ¶å¼€å‘çš„è·¨å¹³å°å®¢æˆ·ç«¯</p>
        </div>
      </div>
      
      <div class="flex flex-wrap gap-2">
        <UBadge variant="soft" color="primary">Vue3</UBadge>
        <UBadge variant="soft" color="blue">TypeScript</UBadge>
        <UBadge variant="soft" color="yellow">Naive UI</UBadge>
        <UBadge variant="soft" color="green">Vite</UBadge>
        <UBadge variant="soft" color="cyan">Tauri 2</UBadge>
        <UBadge variant="soft" color="orange">Rust</UBadge>
      </div>
    </div>

    <!-- é¡¹ç›®ä»‹ç» -->
    <UCard class="mb-8 bg-gray-800/50 border-gray-700">
      <template #header>
        <h2 class="text-xl font-semibold text-white">é¡¹ç›®ä»‹ç»</h2>
      </template>
      
      <div class="space-y-4 text-gray-300">
        <p>
          XL-ME-Frp-Launcher æ˜¯ç”± <strong class="text-primary-400">yealqp</strong> ä½¿ç”¨ Tauri 2 æ¡†æ¶å¼€å‘çš„ ME-Frp ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ã€‚
          ç•Œé¢é«˜ä»¿å®˜ç½‘æ ·å¼ï¼Œå¯èƒ½æ˜¯ç›®å‰æ”¶å½•çš„ä¸‰ä¸ªå®¢æˆ·ç«¯ä¸­æœ€ç¾è§‚çš„ä¸€ä¸ªï¼Œä¹Ÿå¯èƒ½ä¹Ÿæ˜¯åŒ…ä½“æœ€å°çš„ä¸€ä¸ªï¼Œäº¦æˆ–æ˜¯bugæœ€å°‘çš„ä¸€ä¸ªã€‚
        </p>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <h3 class="text-lg font-semibold text-white mb-3">âœ¨ ä¸»è¦ç‰¹æ€§</h3>
            <ul class="space-y-2">
              <li class="flex items-start space-x-2">
                <UIcon name="i-heroicons-check-circle" class="w-4 h-4 text-primary-400 mt-0.5 flex-shrink-0" />
                <span>åŸºäº Tauri 2 æ¡†æ¶ï¼Œæ€§èƒ½ä¼˜å¼‚</span>
              </li>
              <li class="flex items-start space-x-2">
                <UIcon name="i-heroicons-check-circle" class="w-4 h-4 text-primary-400 mt-0.5 flex-shrink-0" />
                <span>ç•Œé¢é«˜ä»¿å®˜ç½‘æ ·å¼ï¼Œç¾è§‚æ˜“ç”¨</span>
              </li>
              <li class="flex items-start space-x-2">
                <UIcon name="i-heroicons-check-circle" class="w-4 h-4 text-primary-400 mt-0.5 flex-shrink-0" />
                <span>æä¾›å®˜ç½‘æ²¡æœ‰çš„å¯åœéš§é“åŠŸèƒ½</span>
              </li>
              <li class="flex items-start space-x-2">
                <UIcon name="i-heroicons-check-circle" class="w-4 h-4 text-primary-400 mt-0.5 flex-shrink-0" />
                <span>æ‹¥æœ‰å¼€æœºè‡ªå¯åŠ¨ã€ç³»ç»Ÿæ‰˜ç›˜ç­‰åŠŸèƒ½</span>
              </li>
              <li class="flex items-start space-x-2">
                <UIcon name="i-heroicons-check-circle" class="w-4 h-4 text-primary-400 mt-0.5 flex-shrink-0" />
                <span>åŒ…ä½“å°å·§ï¼Œå¯åŠ¨è¿…é€Ÿ</span>
              </li>
              <li class="flex items-start space-x-2">
                <UIcon name="i-heroicons-check-circle" class="w-4 h-4 text-primary-400 mt-0.5 flex-shrink-0" />
                <span>æ”¯æŒ Token ç™»å½•åŠŸèƒ½</span>
              </li>
            </ul>
          </div>
          
          <div>
            <h3 class="text-lg font-semibold text-white mb-3">ğŸ–¥ï¸ ç³»ç»Ÿè¦æ±‚</h3>
            <ul class="space-y-2">
              <li class="flex items-start space-x-2">
                <UIcon name="i-heroicons-computer-desktop" class="w-4 h-4 text-primary-400 mt-0.5 flex-shrink-0" />
                <span>Windows 10/11</span>
              </li>
              <li class="flex items-start space-x-2">
                <UIcon name="i-heroicons-computer-desktop" class="w-4 h-4 text-primary-400 mt-0.5 flex-shrink-0" />
                <span>Windows Server 2019/2022/2025</span>
              </li>
              <li class="flex items-start space-x-2">
                <UIcon name="i-heroicons-globe-alt" class="w-4 h-4 text-primary-400 mt-0.5 flex-shrink-0" />
                <span>éœ€è¦å®‰è£… WebView2 è¿è¡Œæ—¶</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </UCard>

    <!-- é¢„è§ˆå›¾ -->
    <UCard class="mb-8 bg-gray-800/50 border-gray-700">
      <template #header>
        <h2 class="text-xl font-semibold text-white">é¢„è§ˆå›¾</h2>
      </template>
      
      <div class="relative rounded-lg overflow-hidden bg-gray-900/50">
        <!-- å›¾ç‰‡å®¹å™¨ -->
        <div class="relative h-96 flex items-center justify-center">
          <img 
            :src="previewImages[currentImageIndex].src" 
            :alt="previewImages[currentImageIndex].alt" 
            class="max-w-full max-h-full object-contain cursor-pointer"
            @click="openImageModal(previewImages[currentImageIndex])"
          />
          
          <!-- æ ‡é¢˜é®ç½© -->
          <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4">
            <p class="text-white text-center font-medium">{{ previewImages[currentImageIndex].alt }}</p>
          </div>
        </div>
        
        <!-- å¯¼èˆªç®­å¤´ -->
        <button 
          @click="previousImage"
          class="absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full transition-colors"
          :disabled="previewImages.length <= 1"
        >
          <UIcon name="i-heroicons-chevron-left" class="w-5 h-5" />
        </button>
        
        <button 
          @click="nextImage"
          class="absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full transition-colors"
          :disabled="previewImages.length <= 1"
        >
          <UIcon name="i-heroicons-chevron-right" class="w-5 h-5" />
        </button>
        
        <!-- æŒ‡ç¤ºå™¨ -->
        <div class="absolute bottom-16 left-1/2 transform -translate-x-1/2 flex space-x-2">
          <button
            v-for="(image, index) in previewImages"
            :key="index"
            @click="currentImageIndex = index"
            class="w-2 h-2 rounded-full transition-colors"
            :class="index === currentImageIndex ? 'bg-white' : 'bg-white/50'"
          />
        </div>
      </div>
    </UCard>

    <!-- ä¸‹è½½å®‰è£… -->
    <UCard class="mb-8 bg-gray-800/50 border-gray-700">
      <template #header>
        <h2 class="text-xl font-semibold text-white">ä¸‹è½½å®‰è£…</h2>
      </template>
      
      <div class="space-y-6">
        <div class="text-center">
          <UButton 
            size="lg" 
            color="primary"
            to="https://alist.yealqp.cn/"
            target="_blank"
          >
            <UIcon name="i-heroicons-arrow-down-tray" class="w-5 h-5 mr-2" />
            OpenList ä¸‹è½½
          </UButton>
          <p class="text-gray-400 text-sm mt-2">å½“å‰ç‰ˆæœ¬: v1.5.5</p>
        </div>
        
        <UAlert 
          color="yellow" 
          variant="soft" 
          class="mb-4"
          title="ç³»ç»Ÿè¦æ±‚"
          description="æœ¬è½¯ä»¶ä»…é€‚ç”¨äº Windows 10, Windows 11, Windows Server 2019, 2022, 2025ã€‚åœ¨ä½¿ç”¨å‰è¯·ç¡®è®¤æ‚¨çš„ç”µè„‘ä¸Šå®‰è£…äº† WebView2ï¼ˆWebView2 å·²ç»åœ¨ Windows 10 1803 ä»¥ä¸Šå’Œæ›´é«˜ç‰ˆæœ¬çš„ Windows ä¸Šé»˜è®¤å®‰è£…ï¼‰ã€‚"
        />
        
        <UAlert 
          color="blue" 
          variant="soft"
          title="ä½¿ç”¨è¯´æ˜"
          description="è¯·ä½¿ç”¨ ME-Frp å®˜ç½‘è´¦å·ç™»å½•ã€‚éœ€è¦æ›´å¤šåŠŸèƒ½æˆ–æŠ¥å‘Š Bug è¯·å‘é‚®ç®± yealqp@163.com å‘é€é‚®ä»¶ã€‚"
        />
        
        <div class="bg-gray-700/30 rounded-lg p-4">
          <h3 class="text-lg font-semibold text-white mb-3">å®‰è£…æ­¥éª¤</h3>
          <ol class="space-y-2 text-gray-300">
            <li class="flex items-start space-x-3">
              <span class="flex-shrink-0 w-6 h-6 bg-primary-500/20 text-primary-400 rounded-full flex items-center justify-center text-sm font-bold">1</span>
              <span>ä»å®˜æ–¹é“¾æ¥ä¸‹è½½é€‚åˆæ‚¨æ“ä½œç³»ç»Ÿçš„å®‰è£…åŒ…</span>
            </li>
            <li class="flex items-start space-x-3">
              <span class="flex-shrink-0 w-6 h-6 bg-primary-500/20 text-primary-400 rounded-full flex items-center justify-center text-sm font-bold">2</span>
              <span>è¿è¡Œå®‰è£…ç¨‹åºï¼ŒæŒ‰ç…§æç¤ºå®Œæˆå®‰è£…</span>
            </li>
            <li class="flex items-start space-x-3">
              <span class="flex-shrink-0 w-6 h-6 bg-primary-500/20 text-primary-400 rounded-full flex items-center justify-center text-sm font-bold">3</span>
              <span>å¯åŠ¨ç¨‹åºï¼Œè¾“å…¥æ‚¨çš„ ME-Frp è´¦æˆ·ä¿¡æ¯</span>
            </li>
            <li class="flex items-start space-x-3">
              <span class="flex-shrink-0 w-6 h-6 bg-primary-500/20 text-primary-400 rounded-full flex items-center justify-center text-sm font-bold">4</span>
              <span>å¼€å§‹ä½¿ç”¨ï¼Œäº«å—ä¾¿æ·çš„å†…ç½‘ç©¿é€æœåŠ¡</span>
            </li>
          </ol>
        </div>
      </div>
    </UCard>

    <!-- æ›´æ–°è®°å½• -->
    <UCard class="mb-8 bg-gray-800/50 border-gray-700">
      <template #header>
        <h2 class="text-xl font-semibold text-white">æ›´æ–°è®°å½•</h2>
      </template>
      
      <div class="space-y-6">
        <div v-for="update in updateHistory" :key="update.version" class="border-l-2 border-primary-500/30 pl-4">
          <div class="flex items-center space-x-2 mb-2">
            <h3 class="text-lg font-semibold text-white">{{ update.version }}</h3>
            <UBadge v-if="update.isLatest" variant="soft" color="green" size="sm">æœ€æ–°</UBadge>
          </div>
          <ul class="space-y-1 text-gray-300 text-sm">
            <li v-for="(change, index) in update.changes" :key="index" class="flex items-start space-x-2">
              <span class="text-primary-400 mt-1">â€¢</span>
              <span v-html="change"></span>
            </li>
          </ul>
        </div>
      </div>
    </UCard>

  </div>
</template>

<script setup>
// ä½¿ç”¨æ–‡æ¡£å¸ƒå±€
definePageMeta({
  layout: 'docs'
})

// é¡µé¢å…ƒæ•°æ®
useHead({
  title: 'XL-ME-Frp-Launcher æ–‡æ¡£ - ME-Frp ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯è”ç›Ÿ',
  meta: [
    { name: 'description', content: 'XL-ME-Frp-Launcher è¯¦ç»†ä½¿ç”¨æ–‡æ¡£ï¼ŒåŒ…å«å®‰è£…ã€é…ç½®å’Œä½¿ç”¨æŒ‡å—' }
  ]
})

// é¢„è§ˆå›¾æ•°æ®
const previewImages = [
  { src: 'https://image.mefrp-tpca.yealqp.cn/image/views/yealqp/login.png', alt: 'ç™»å½•ç•Œé¢' },
  { src: 'https://image.mefrp-tpca.yealqp.cn/image/views/yealqp/home.png', alt: 'ä¸»é¡µé¢' },
  { src: 'https://image.mefrp-tpca.yealqp.cn/image/views/yealqp/tunnel.png', alt: 'éš§é“ç®¡ç†' },
  { src: 'https://image.mefrp-tpca.yealqp.cn/image/views/yealqp/node.png', alt: 'èŠ‚ç‚¹é€‰æ‹©' },
  { src: 'https://image.mefrp-tpca.yealqp.cn/image/views/yealqp/create.png', alt: 'åˆ›å»ºéš§é“' },
  { src: 'https://image.mefrp-tpca.yealqp.cn/image/views/yealqp/help.png', alt: 'å¸®åŠ©é¡µé¢' },
  { src: 'https://image.mefrp-tpca.yealqp.cn/image/views/yealqp/config.png', alt: 'é…ç½®è®¾ç½®' },
  { src: 'https://image.mefrp-tpca.yealqp.cn/image/views/yealqp/about.png', alt: 'å…³äºé¡µé¢' }
]

// æ›´æ–°å†å²
const updateHistory = [
  {
    version: 'v1.5.5',
    isLatest: true,
    changes: [
      'åˆ›å»ºéš§é“é¡µé¢èŠ‚ç‚¹å¡ç‰‡æ·»åŠ VIPèŠ‚ç‚¹æ ·å¼å’Œé€»è¾‘ï¼Œåˆ é™¤äº†åˆ›å»ºHTTP/Séš§é“åŠŸèƒ½ï¼ˆæˆ‘æ‰å‘ç°ä¸èƒ½ç”¨ï¼Œå…ˆæ‰”ç€ï¼‰ã€‚'
    ]
  },
  {
    version: 'v1.5.4',
    changes: [
      'æ·»åŠ Tokenç™»å½•åŠŸèƒ½ï¼Œå‡å°‘å†—ä½™ä»£ç ï¼Œä¿®å¤äº†è‡ªåŠ¨æ£€æŸ¥æ›´æ–°æ—¶å¼¹å‡ºçš„æ–°ç‰ˆæœ¬ä¸‹è½½åœ°å€ä¸æ­£ç¡®çš„é—®é¢˜ï¼Œä¼˜åŒ–QQç¾¤èŠæŒ‰é’®ï¼Œæ·»åŠ äºŒç¾¤ç›¸å…³æŒ‰é’®ï¼Œä¼˜åŒ–åç«¯é€»è¾‘ã€‚'
    ]
  },
  {
    version: 'v1.5.3',
    changes: [
      'ä¿®æ”¹æ–°ç‰ˆæœ¬ä¸‹è½½åœ°å€ï¼Œä¿®æ”¹äº†ä»™æ—äº‘å®˜ç½‘åœ°å€ï¼Œåœ¨å¸®åŠ©é¡µé¢å›¾å½¢åŒ–åé¦ˆå¡ç‰‡ä¸­æ·»åŠ æ–°ç‰ˆæœ¬ä¸‹è½½é¡µæŒ‰é’®ã€‚'
    ]
  },
  {
    version: 'v1.5.2',
    changes: [
      'å°†éš§é“ç®¡ç†é¡µé¢çš„ç¼–è¾‘æŒ‰é’®ç§»åˆ°æ›´å¤šé€‰é¡¹å¡ä¸­ï¼Œå°†æ›´å¤šé€‰é¡¹å¡ä¸­çš„å¤åˆ¶è¿œç¨‹åœ°å€å’Œè¯¦æƒ…æŒ‰é’®ç§»åˆ°åŸç¼–è¾‘æŒ‰é’®ä½ç½®ã€‚'
    ]
  },
  {
    version: 'v1.5.1',
    changes: [
      'æ·»åŠ å¤åˆ¶éš§é“è¿œç¨‹åœ°å€åŠŸèƒ½ã€‚'
    ]
  },
  {
    version: 'v1.5',
    changes: [
      'æ·»åŠ ç™»å½•æ—¶çš„äººæœºéªŒè¯åŠŸèƒ½ï¼Œæ„Ÿè°¢ <a href="https://github.com/LxHTT" target="_blank" class="text-primary-400 hover:text-primary-300">è½é›ªæ— ç—•LxHTT</a> æä¾›äº†å®˜ç½‘ä½¿ç”¨çš„äººæœºéªŒè¯é€»è¾‘ã€‚'
    ]
  },
  {
    version: 'v1.4',
    changes: [
      'æ·»åŠ <code class="bg-gray-700 px-1 py-0.5 rounded text-xs">é…ç½®æ–‡ä»¶å¯åŠ¨</code>åŠŸèƒ½ï¼Œæ›´æ–°äº†è½¯ä»¶å†…çš„æ–°ç‰ˆæœ¬ä¸‹è½½åœ°å€'
    ]
  },
  {
    version: 'v1.3',
    changes: [
      'ä¿®æ”¹<code class="bg-gray-700 px-1 py-0.5 rounded text-xs">è‡ªå¯åŠ¨éš§é“</code>é€»è¾‘ï¼Œé‡æ„åç«¯æœ‰å…³é…ç½®æ–‡ä»¶ä¿®æ”¹çš„éƒ¨åˆ†'
    ]
  },
  {
    version: 'v1.2',
    changes: [
      'æ›´æ–°äº†è½¯ä»¶å†…çš„æ–°ç‰ˆæœ¬ä¸‹è½½åœ°å€'
    ]
  },
  {
    version: 'v1.1',
    changes: [
      'ä¿®å¤äº†<code class="bg-gray-700 px-1 py-0.5 rounded text-xs">éš§é“å¯åŠ¨</code>æ—¶ï¼Œä½¿ç”¨çš„äºŒè¿›åˆ¶æ–‡ä»¶è·¯å¾„ä¸æ­£ç¡®çš„é—®é¢˜ï¼Œæ·»åŠ äº†<code class="bg-gray-700 px-1 py-0.5 rounded text-xs">å•å®ä¾‹å¯åŠ¨</code>çš„åŠŸèƒ½'
    ]
  },
  {
    version: 'v1.0',
    changes: [
      'å‘å¸ƒ'
    ]
  }
]

// è½®æ’­å›¾çŠ¶æ€
const currentImageIndex = ref(0)

// è½®æ’­å›¾å¯¼èˆª
const nextImage = () => {
  currentImageIndex.value = (currentImageIndex.value + 1) % previewImages.length
}

const previousImage = () => {
  currentImageIndex.value = currentImageIndex.value === 0 ? previewImages.length - 1 : currentImageIndex.value - 1
}

// æ‰“å¼€å›¾ç‰‡æ¨¡æ€æ¡†
const openImageModal = (image) => {
  window.open(image.src, '_blank')
}
</script>